document.addEventListener("DOMContentLoaded",function(){function e(){const e=document.querySelector(".text-container"),o=e.offsetWidth-2*parseInt(getComputedStyle(e).paddingLeft),n=e.offsetHeight-2*parseInt(getComputedStyle(e).paddingTop);if(""===t.value.trim())return t.style.height="30vh",void(t.style.fontSize="2rem");const l=document.createElement("span");l.style.visibility="hidden",l.style.position="absolute",l.style.whiteSpace="pre",l.style.fontFamily=getComputedStyle(t).fontFamily,document.body.appendChild(l);let c=150,d=150;for(;c>1;){if(l.style.fontSize=c+"vw",l.innerText=t.value,l.offsetWidth<=o&&l.offsetHeight<=n){d=c;break}c-=.1}const s=t.value.split("\n").length;s>1?(t.style.height="auto",t.style.height=t.scrollHeight+"px"):t.style.height=l.offsetHeight+"px",t.style.fontSize=d+"vw",document.body.removeChild(l)}const t=document.getElementById("sign-text"),o=document.getElementById("controls"),n=document.querySelectorAll(".background-color-button"),l=document.querySelectorAll(".font-color-button"),c=document.getElementById("fullscreen-button");document.body.addEventListener("click",function(e){e.target.closest("#controls")||o.classList.toggle("controls-hidden")}),n.forEach(e=>{e.addEventListener("click",function(){const e=this.dataset.color;document.body.style.backgroundColor=e})}),l.forEach(e=>{e.addEventListener("click",function(){const e=this.dataset.color;document.body.style.color=e})}),c.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.error(`フルスクリーンモードに切り替えできませんでした: ${e.message}`)})}),t.addEventListener("input",e),e()});